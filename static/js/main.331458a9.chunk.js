(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,a){e.exports=a(145)},117:function(e,t,a){},137:function(e,t,a){},138:function(e,t,a){},139:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){"use strict";a.r(t);var r=a(42),n=a(47),o=a(0),s=a.n(o),i=a(14),c=a.n(i);a(117),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(19),u=a(20),m=a(22),d=a(21),p=a(25),h=a(23),f=a(24),b=a(30),v=a(13),g=(a(118),a(10)),y=a(37),O=a(46),E=null;function j(e,t){return e.forEach(function(e){e.monitor=t})}function C(e){E.ref("Usuarios/"+e.toLowerCase()+"/horario").once("value").then(function(e){e.exists()?V.setHorario(e.val()):V.setHorario(null)})}function T(e){return Math.floor(e/60)+":"+(e-60*Math.floor(e/60)<10?"0":"")+(e-60*Math.floor(e/60))}function w(e){return 60*parseInt(e.split(":")[0])+parseInt(e.split(":")[1])}function N(e){null!==e&&void 0!==e&&E.ref("Usuarios/"+e.toLowerCase()+"/registros").on("value",function(e){e.exists()?V.setRegistros(e.val()):V.setRegistros({})})}function k(e){null!==e&&void 0!==e&&(E.ref("Usuarios/"+e.toLowerCase()+"/horasLogradas").on("value",function(e){e.exists()?V.setHorasLogradas(e.val()):V.setHorasLogradas(0)}),E.ref("Usuarios/"+e.toLowerCase()+"/horasPerdidas").on("value",function(e){e.exists()?V.setHorasPerdidas(e.val()):V.setHorasPerdidas(0)}),E.ref("Usuarios/"+e.toLowerCase()+"/horasAdicionales").on("value",function(e){e.exists()?V.setHorasAdicionales(e.val()):V.setHorasAdicionales(0)}),E.ref("Usuarios/"+e.toLowerCase()+"/horasTotales").on("value",function(e){e.exists()?V.setHorasTotales(e.val()):V.setHorasTotales(0)}))}var S,U,D,L,H,A,I,x,M,P,R,z,F,B,J,_,Z,q,G,W={addNewUser:function(e){E.ref("cantidadUsuarios").once("value").then(function(t){if(null!==t.val()||void 0!==t.val()){var a=Object(O.a)({},e,{rol:"monitor",horasLogradas:0,id:t.val()+1});E.ref("Usuarios/"+e.nombre.toLowerCase()).update(a),E.ref().update({cantidadUsuarios:t.val()+1})}else{var r=Object(O.a)({},e,{rol:"monitor",horasLogradas:0,id:0});E.ref("Usuarios/"+e.nombre.toLowerCase()).update(r),E.ref().update({cantidadUsuarios:0})}}),E.ref("monitores").once("value").then(function(t){t.exists()?E.ref("monitores").set([].concat(Object(y.a)(t.val()),[e.nombre])):E.ref("monitores").set([e.nombre])})},getRol:function(e){E.ref("Usuarios/"+e.toLowerCase()+"/rol").once("value").then(function(e){return V.setCurrentUser("rol",e.val()+""),e.val()+""})},getHorario:function(e){if(E.ref("Usuarios/"+e.toLowerCase()+"/horario").once("value").then(function(e){e.exists()?V.setHorario(e.val()):V.setHorario(null)}),!(0===V.fecha.dia||V.fecha.dia>6)){var t=["lunes","martes","miercoles","jueves","viernes","sabado","domingo"];V.setCurrentUser("dia",t[V.fecha.dia-1]);var a=[];E.ref("Usuarios/"+e.toLowerCase()+"/horario/"+t[V.fecha.dia-1]).once("value").then(function(e){null!==e.val()&&void 0!==e.val()&&(a=[].concat(Object(y.a)(a),Object(y.a)(e.val()))),E.ref("Usuarios/"+V.currentUser.nombre.toLowerCase()+"/adicionalesPendientes").once("value").then(function(e){if(null!==e.val()&&void 0!==e.val()){var t=[];for(var r in e.val())if(e.val().hasOwnProperty(r)){var n=e.val()[r],o=new Date(parseInt(n.fecha));o.getFullYear()===V.fecha.year&&o.getMonth()===V.fecha.mes&&o.getDay()===V.fecha.dia&&(n.id=r,t.push(n))}a=[].concat(Object(y.a)(a),t)}!function(e){if(0===e.length)return V.setCurrentUser("inicio","null"),void V.setCurrentUser("fin","null");var t=w(V.fecha.hora+":"+V.fecha.minutos),a=[];e.forEach(function(e){a.push(parseInt(e.inicio)-t)});for(var r=500,n=0,o=0;o<a.length;o++){var s=a[o];if(Math.abs(s)===r&&s>=0){r=Math.abs(s),n=o;break}Math.abs(s)<r&&(r=Math.abs(s),n=o)}if(e[n].fin<=t)return V.setCurrentUser("inicio","null"),void V.setCurrentUser("fin","null");var i=T(e[n].inicio),c=T(e[n].fin);null!==e[n].fecha&&void 0!==e[n].fecha&&null!==e[n].id&&void 0!==e[n].id&&E.ref("Usuarios/"+V.currentUser.nombre.toLowerCase()+"/adicionalesPendientes/"+e[n].id).set({}),V.setCurrentUser("inicio",i),V.setCurrentUser("fin",c)}(a)})})}},transfomTimeToNumber:w,setHorasLogradas:function(e){E.ref("Usuarios/"+V.currentUser.nombre.toLowerCase()+"/horasLogradas").once("value").then(function(t){t.exists()?E.ref("Usuarios/"+V.currentUser.nombre.toLowerCase()).update({horasLogradas:t.val()+e}):E.ref("Usuarios/"+V.currentUser.nombre.toLowerCase()).update({horasLogradas:e})})},transfomNumberToTime:T,setRegistro:function(e,t,a){E.ref("Usuarios/"+V.currentUser.nombre.toLowerCase()+"/registros").push({hora:e,fecha:t,tipo:a})},setRef:function(e){E=e},setHorasPerdidas:function(e){E.ref("Usuarios/"+V.currentUser.nombre.toLowerCase()+"/horasPerdidas").once("value").then(function(t){t.exists()?E.ref("Usuarios/"+V.currentUser.nombre.toLowerCase()).update({horasPerdidas:t.val()+e}):E.ref("Usuarios/"+V.currentUser.nombre.toLowerCase()).update({horasPerdidas:e})})},addNewExcuse:function(e,t){E.ref("Usuarios/"+V.currentUser.nombre.toLowerCase()+"/excusas").push(Object(O.a)({},t,{date:e}),function(e){e?V.displayToast(e,"error"):V.displayToast("Tu excusa ha sido guardada","success")})},getExcuces:function(e){E.ref("Usuarios/"+e.toLowerCase()+"/excusas").on("value",function(e){if(e.exists()){var t=[];for(var a in e.val())if(e.val().hasOwnProperty(a)){var r=e.val()[a];t.push(r)}V.setExcusas(t)}else V.setExcusas([])})},updateHoras:k,updateRegistro:N,getHorarioGen:function(){E.ref("Horario").once("value").then(function(e){e.exists()?V.setHorario(e.val()):V.setHorario(null)})},getMonitores:function(){E.ref("monitores").once("value").then(function(e){if(e.exists()){var t=[];e.val().forEach(function(e){t.push({nombre:e,activo:!1})}),V.setMonitores(t)}else V.setMonitores([])})},setActivo:function(e){E.ref("monitoresActivos").once("value").then(function(t){t.exists()?E.ref("monitoresActivos").set([].concat(Object(y.a)(t.val()),[e])):E.ref("monitoresActivos").set([e])})},removeActivo:function(e){E.ref("monitoresActivos").once("value").then(function(t){for(var a=[],r=0;r<t.length;r++){var n=t[r];if(n===e)break;a.push(n)}E.ref("monitoresActivos").set(a)})},getActivos:function(){E.ref("monitoresActivos").on("value",function(e){e.exists()?V.setMonitoresActivos(e.val()):V.setMonitoresActivos([])})},getInfoMonitor:function(e){null!==e&&void 0!==e&&(k(e),N(e),C(e))},getAllExcuces:function(){for(var e=[],t=function(t){var a=V.monitores[t];E.ref("Usuarios/"+a.nombre.toLowerCase()+"/excusas").on("value",function(t){if(t.exists()){for(var r in t.val())if(t.val().hasOwnProperty(r)){var n=t.val()[r];new Date(n.fecha.replace(" de","")).getTime()-Date.now()>0&&(V.displayToast(a.nombre+" tiene excusas pendientes","info"),n.monitor=a.nombre,e.push(n))}V.setExcusas(e)}})},a=0;a<V.monitores.length;a++)t(a)},setHoraAdicional:function(e,t,a,r){E.ref("Usuarios/"+e.toLowerCase()+"/adicionalesPendientes").push({inicio:t,fin:a,fecha:r}),V.displayToast("el horario adiconal se ha asignado con \xe9xito","success")},setRegistroEsp:function(e,t,a,r){E.ref("Usuarios/"+e.toLowerCase()+"/registros").push({hora:t,fecha:a,tipo:r})},getMyAditionals:function(){E.ref("Usuarios/"+V.currentUser.nombre.toLowerCase()+"/adicionalesPendientes").on("value",function(e){if(e.exists())for(var t in e.val())if(e.val().hasOwnProperty(t)){var a=e.val()[t];V.displayToast("Tienes horas adcionales pendientes para el "+a.fecha+" a las "+T(a.inicio)+" hasta las "+T(a.fin),"info")}})},setHorario:function(e,t){E.ref("Usuarios/"+e.toLowerCase()).update({horario:t}),function(e,t){var a=e;for(var r in a)null!==a[r][0].inicio&&j(a[r],t);E.ref("Horario").once("value").then(function(r){if(r.exists()){var n=r.val();for(var o in r.val())r.val().hasOwnProperty(o)&&(n[o]=r.val()[o].filter(function(e){return e.monitor!==t}));var s=n;for(var i in a)r.child(i+"").exists()?s[i]=[].concat(Object(y.a)(n[i]),Object(y.a)(a[i])):s[i]=Object(y.a)(a[i]);E.ref().update({Horario:s})}else E.ref().update({Horario:e})})}(t,e+"")},updateHorarioMonitor:C,getOpiniones:function(e){E.ref("Usuarios/"+e.toLowerCase()+"/opiniones").on("value",function(e){if(e.exists()){var t=[];for(var a in e.val())if(e.val().hasOwnProperty(a)){var r=e.val()[a];t.push(r)}V.setOpiniones(t)}else V.setOpiniones([])})},addNewOpinion:function(e){E.ref("Usuarios/"+V.currentUser.nombre.toLowerCase()+"/opiniones").push(e,function(e){e?V.displayToast(e,"error"):V.displayToast("Tu opinion ha sido guardada","success")})},setHorasTotales:function(e){E.ref("Usuarios/"+V.currentUser.nombre.toLowerCase()+"/horasTotales").once("value").then(function(t){t.exists()?E.ref("Usuarios/"+V.currentUser.nombre.toLowerCase()).update({horasTotales:t.val()-e}):E.ref("Usuarios/"+V.currentUser.nombre.toLowerCase()).update({horasTotales:e})})},setSetHorasTotales:function(e,t){E.ref("Usuarios/"+t.toLowerCase()).update({horasTotales:e})}},V=new(S=function(){function e(){var t=this;Object(l.a)(this,e),Object(b.a)(this,"dias",U,this),Object(b.a)(this,"meses",D,this),Object(b.a)(this,"fecha",L,this),Object(b.a)(this,"isLoged",H,this),Object(b.a)(this,"isLoging",A,this),Object(b.a)(this,"callbackToast",I,this),Object(b.a)(this,"excusas",x,this),Object(b.a)(this,"opiniones",M,this),Object(b.a)(this,"navItemSelected",P,this),Object(b.a)(this,"horasLogradas",R,this),Object(b.a)(this,"horasAdiconales",z,this),Object(b.a)(this,"horasPerdidas",F,this),Object(b.a)(this,"horasTotales",B,this),Object(b.a)(this,"registros",J,this),Object(b.a)(this,"monitoresActivos",_,this),Object(b.a)(this,"monitores",Z,this),Object(b.a)(this,"monitorSelected",q,this),Object(b.a)(this,"currentUser",G,this),setInterval(function(){var e=new Date;t.fecha={year:e.getFullYear(),mes:e.getMonth(),fecha:e.getDate(),dia:e.getDay(),hora:e.getHours(),minutos:e.getMinutes(),segundos:e.getSeconds(),date:e}},1e3)}return Object(u.a)(e,[{key:"setCurrentUser",value:function(e,t){switch(e){case"rol":this.currentUser.rol=t;break;case"nombre":this.currentUser.nombre=t;break;case"dia":this.currentUser.dia=t;break;case"inicio":this.currentUser.inicio=t;break;case"fin":this.currentUser.fin=t;break;case"llegue":this.currentUser.llegue=t;break;case"termine":this.currentUser.termine=t}}},{key:"setMonitorSelected",value:function(e){null!==e?(this.monitorSelected=e,setTimeout(function(){W.getInfoMonitor(e)},300)):(this.monitorSelected=e,"admin"===this.currentUser.rol&&W.getHorarioGen())}},{key:"setMonitores",value:function(e){this.monitores=e}},{key:"setRegistros",value:function(e){this.registros=e}},{key:"setHorasLogradas",value:function(e){this.horasLogradas=e}},{key:"setHorasAdicionales",value:function(e){this.horasAdiconales=e}},{key:"setHorasPerdidas",value:function(e){this.horasPerdidas=e}},{key:"setHorasTotales",value:function(e){this.horasTotales=e}},{key:"setAllCurrentUser",value:function(e){this.currentUser=e}},{key:"setMonitoresActivos",value:function(e){this.monitoresActivos=e}},{key:"setExcusas",value:function(e){for(var t=0;t<e.length;t++){var a=e[t];e[t].date=new Date(a.date)}this.excusas=e}},{key:"setOpiniones",value:function(e){for(var t=0;t<e.length;t++){var a=e[t];e[t].date=new Date(a.date)}this.opiniones=e}},{key:"setHorario",value:function(e){this.currentUser.horario=e}},{key:"setNavItemSelected",value:function(e){this.navItemSelected=e}},{key:"setLoged",value:function(e){this.isLoged=e}},{key:"setLoging",value:function(e){this.isLoging=e}},{key:"setCallBackToast",value:function(e){this.callbackToast=e}},{key:"displayToast",value:function(e,t){this.callbackToast(e,t)}},{key:"currentMonitors",get:function(){var e=this.currentUser.horario,t=[],a=W.transfomTimeToNumber(this.fecha.hora+":"+this.fecha.minutos);return this.currentUser.horario&&e[this.currentUser.dia]&&e[this.currentUser.dia].map(function(e){return a>e.inicio&&a<e.fin&&t.push(e.monitor),!0}),t}},{key:"heightBar",get:function(){var e=W.transfomTimeToNumber(this.fecha.hora+":"+this.fecha.minutos),t=W.transfomTimeToNumber(this.currentUser.inicio);return(e-t)/(W.transfomTimeToNumber(this.currentUser.fin)-t)*100}},{key:"diferenceCurrentAndInitial",get:function(){var e=W.transfomTimeToNumber(this.fecha.hora+":"+this.fecha.minutos);return W.transfomTimeToNumber(this.currentUser.inicio)-e}},{key:"diferenceCurrentAndFinal",get:function(){var e=W.transfomTimeToNumber(this.fecha.hora+":"+this.fecha.minutos);return W.transfomTimeToNumber(this.currentUser.fin)-e}},{key:"currentTime",get:function(){return this.fecha.hora+":"+(this.fecha.minutos<10?"0"+this.fecha.minutos:this.fecha.minutos)+":"+(this.fecha.segundos<10?"0"+this.fecha.segundos:this.fecha.segundos)}},{key:"currentDate",get:function(){return this.dias[this.fecha.dia-1]+", "+this.fecha.fecha+" de "+this.meses[this.fecha.mes]+" "+this.fecha.year}},{key:"progressAdvice",get:function(){switch(this.navItemSelected){case"Inicio":return"Recuerda que si no registras tu llegada con 7 minutos m\xe1ximo de tardanza, se te descontar\xe1 de tus horas. #SoyTutorLeo";case"Horario":return"El marcador naranja en tu horario, corresponde a las horas adicionales que te hayan sido asignadas \xfaltimamente. #AprendoEnse\xf1ando";case"Excusas":return"El soporte fotogr\xe1fico es opcional, pero sin duda es mejor tenerlo, presiona el link naranja y luego arrastra una foto de tu excusa hasta la zona de carga. #SoyTutorLeo";case"Historial":return"Hecha un vistazo a tu registro de trabajo en horas. El marcador gris en tu historial corresponde a los d\xedas que has faltado con excusa. #AprendoEnse\xf1ando";case"Opiniones":return"Guarda diariamente las experiencias adquiridas ense\xf1ando durante los turnos. #AprendoEnse\xf1ando";default:return"Cargando ..."}}}]),e}(),U=Object(v.a)(S.prototype,"dias",[g.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado","Domingo"]}}),D=Object(v.a)(S.prototype,"meses",[g.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]}}),L=Object(v.a)(S.prototype,"fecha",[g.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{year:0,mes:0,fecha:0,dia:0,hora:0,minutos:0,segundos:0,date:0}}}),H=Object(v.a)(S.prototype,"isLoged",[g.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),A=Object(v.a)(S.prototype,"isLoging",[g.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=Object(v.a)(S.prototype,"callbackToast",[g.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=Object(v.a)(S.prototype,"excusas",[g.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=Object(v.a)(S.prototype,"opiniones",[g.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=Object(v.a)(S.prototype,"navItemSelected",[g.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Inicio"}}),R=Object(v.a)(S.prototype,"horasLogradas",[g.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=Object(v.a)(S.prototype,"horasAdiconales",[g.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=Object(v.a)(S.prototype,"horasPerdidas",[g.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=Object(v.a)(S.prototype,"horasTotales",[g.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),J=Object(v.a)(S.prototype,"registros",[g.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),_=Object(v.a)(S.prototype,"monitoresActivos",[g.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=Object(v.a)(S.prototype,"monitores",[g.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=Object(v.a)(S.prototype,"monitorSelected",[g.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=Object(v.a)(S.prototype,"currentUser",[g.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{horario:null,rol:"",nombre:"",dia:"",inicio:"",fin:"",llegue:"false",termine:"false"}}}),Object(v.a)(S.prototype,"setCurrentUser",[g.d],Object.getOwnPropertyDescriptor(S.prototype,"setCurrentUser"),S.prototype),Object(v.a)(S.prototype,"setMonitorSelected",[g.d],Object.getOwnPropertyDescriptor(S.prototype,"setMonitorSelected"),S.prototype),Object(v.a)(S.prototype,"setMonitores",[g.d],Object.getOwnPropertyDescriptor(S.prototype,"setMonitores"),S.prototype),Object(v.a)(S.prototype,"setRegistros",[g.d],Object.getOwnPropertyDescriptor(S.prototype,"setRegistros"),S.prototype),Object(v.a)(S.prototype,"setHorasLogradas",[g.d],Object.getOwnPropertyDescriptor(S.prototype,"setHorasLogradas"),S.prototype),Object(v.a)(S.prototype,"setHorasAdicionales",[g.d],Object.getOwnPropertyDescriptor(S.prototype,"setHorasAdicionales"),S.prototype),Object(v.a)(S.prototype,"setHorasPerdidas",[g.d],Object.getOwnPropertyDescriptor(S.prototype,"setHorasPerdidas"),S.prototype),Object(v.a)(S.prototype,"setHorasTotales",[g.d],Object.getOwnPropertyDescriptor(S.prototype,"setHorasTotales"),S.prototype),Object(v.a)(S.prototype,"setAllCurrentUser",[g.d],Object.getOwnPropertyDescriptor(S.prototype,"setAllCurrentUser"),S.prototype),Object(v.a)(S.prototype,"setMonitoresActivos",[g.d],Object.getOwnPropertyDescriptor(S.prototype,"setMonitoresActivos"),S.prototype),Object(v.a)(S.prototype,"setExcusas",[g.d],Object.getOwnPropertyDescriptor(S.prototype,"setExcusas"),S.prototype),Object(v.a)(S.prototype,"setOpiniones",[g.d],Object.getOwnPropertyDescriptor(S.prototype,"setOpiniones"),S.prototype),Object(v.a)(S.prototype,"currentMonitors",[g.e],Object.getOwnPropertyDescriptor(S.prototype,"currentMonitors"),S.prototype),Object(v.a)(S.prototype,"heightBar",[g.e],Object.getOwnPropertyDescriptor(S.prototype,"heightBar"),S.prototype),Object(v.a)(S.prototype,"diferenceCurrentAndInitial",[g.e],Object.getOwnPropertyDescriptor(S.prototype,"diferenceCurrentAndInitial"),S.prototype),Object(v.a)(S.prototype,"diferenceCurrentAndFinal",[g.e],Object.getOwnPropertyDescriptor(S.prototype,"diferenceCurrentAndFinal"),S.prototype),Object(v.a)(S.prototype,"currentTime",[g.e],Object.getOwnPropertyDescriptor(S.prototype,"currentTime"),S.prototype),Object(v.a)(S.prototype,"currentDate",[g.e],Object.getOwnPropertyDescriptor(S.prototype,"currentDate"),S.prototype),Object(v.a)(S.prototype,"progressAdvice",[g.e],Object.getOwnPropertyDescriptor(S.prototype,"progressAdvice"),S.prototype),Object(v.a)(S.prototype,"setHorario",[g.d],Object.getOwnPropertyDescriptor(S.prototype,"setHorario"),S.prototype),Object(v.a)(S.prototype,"setNavItemSelected",[g.d],Object.getOwnPropertyDescriptor(S.prototype,"setNavItemSelected"),S.prototype),Object(v.a)(S.prototype,"setLoged",[g.d],Object.getOwnPropertyDescriptor(S.prototype,"setLoged"),S.prototype),Object(v.a)(S.prototype,"setLoging",[g.d],Object.getOwnPropertyDescriptor(S.prototype,"setLoging"),S.prototype),Object(v.a)(S.prototype,"setCallBackToast",[g.d],Object.getOwnPropertyDescriptor(S.prototype,"setCallBackToast"),S.prototype),S),Y=a(54),X=(a(119),a(121),a(148),null);var K={setRef:function(e){X=e.ref()},uploadImg:function(e,t,a){X.child(e+"").putString(t,"data_url").then(function(t){console.log("Uploaded a base64url string!"),t.ref.getDownloadURL().then(function(t){console.log("File available at",t),a(e,t)})})}},$={apiKey:"AIzaSyB2PXoljppdPO7LGiVNUXZ2-YeLm_6HRaU",authDomain:"registro-centroleo-monitores.firebaseapp.com",databaseURL:"https://registro-centroleo-monitores.firebaseio.com",projectId:"registro-centroleo-monitores",storageBucket:"registro-centroleo-monitores.appspot.com",messagingSenderId:"102556575674",appId:"1:102556575674:web:d374d6e34462a74e"};Y.initializeApp($);var Q=Y.auth(),ee=Y.database();W.setRef(ee);var te=Y.storage();function ae(e){W.getHorario(e),V.setCurrentUser("nombre",e+""),W.updateHoras(e),W.updateRegistro(V.currentUser.nombre),V.setNavItemSelected("Inicio"),V.setMonitorSelected(null)}function re(){setTimeout(function(){localStorage.setItem("isCurrentUser","true"),localStorage.setItem("currentUser",JSON.stringify(V.currentUser))},2e3)}K.setRef(te);var ne,oe,se,ie,ce,le,ue,me,de,pe,he,fe,be,ve,ge={Login:function(e,t,a){V.isLoging||(V.setLoging(!0),Q.signInWithEmailAndPassword(e+"@gmail.com",t).then(function(t){V.setLoging(!1),V.setLoged(!0),W.getRol(e),ae(e),re(),V.displayToast("Bienvenido "+e,"success"),a(!0)}).catch(function(e){e&&(V.setLoging(!1),V.setLoged(!1),a(!1),V.displayToast(e+"","error"))}))},SingUp:function(e,t){V.isLoging||(V.setLoging(!0),Q.createUserWithEmailAndPassword(e.nombre+"@gmail.com",e.password).then(function(){t(!0),V.setLoging(!1),V.setLoged(!0),W.addNewUser(e),V.setCurrentUser("rol","monitor"),ae(e.nombre),re(),V.displayToast("Bienvenido "+e.nombre,"success")}).catch(function(e){e&&(t(!1),V.setLoging(!1),V.setLoged(!1),V.displayToast(e+"","error"))}))},ReadLocal:function(){if("true"===localStorage.getItem("isCurrentUser")){var e=localStorage.getItem("currentUser"),t=null!==e&&JSON.parse(e);return null!==t&&V.setAllCurrentUser(t),!0}return!1},updateStore:ae},ye=(a(79),Object(f.a)(ne=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={usuario:"",password:"",op:1},a.onLogin=a.onLogin.bind(Object(p.a)(a)),a.handleClick=a.handleClick.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;!0===ge.ReadLocal()&&this.props.history.push("/Home"),this.setState({op:0}),setTimeout(function(){e.setState({op:1})},300)}},{key:"onLogin",value:function(e){e?this.props.history.push("/Home"):this.setState({usuario:"",password:""})}},{key:"handleClick",value:function(){""!==this.state.usuario&&""!==this.state.password?this.state.usuario.includes(" ")||this.state.password.includes(" ")?V.displayToast("Por favor no use espacios","warning"):this.state.usuario.length<4?V.displayToast("Por favor use mas de 4 caracteres en su usuario","info"):this.state.password.length<6?V.displayToast("Por favor use mas de 6 caracteres en su contrase\xf1a","info"):ge.Login(this.state.usuario,this.state.password,this.onLogin):V.displayToast("Por favor llene todos los campos","warning")}},{key:"render",value:function(){var e=this;return s.a.createElement("section",{className:"Sing Login two-colums",style:{opacity:this.state.op}},s.a.createElement("div",{className:"colum first"},s.a.createElement("div",{className:"img-container"},s.a.createElement("img",{src:"./images/banner.png",alt:""})),s.a.createElement("p",{className:"tag"},s.a.createElement("em",null,"#SoyTutorLeoAprendoEnse\xf1ando"))),s.a.createElement("div",{className:"colum second"},s.a.createElement(r.b,{to:"/SingUp",className:"btn-nav"},"Reg\xedstrate"),s.a.createElement("h2",{className:"titulo"},"Iniciar Sesi\xf3n"),s.a.createElement("div",{className:"inp-cont"},s.a.createElement("input",{type:"text",placeholder:"usuario (Demo)",value:this.state.usuario,onChange:function(t){e.setState({usuario:t.target.value+""})}}),s.a.createElement("input",{type:"password",placeholder:"Contrase\xf1a (demodemo)",value:this.state.password,onChange:function(t){e.setState({password:t.target.value+""})}})),s.a.createElement("button",{className:"btn",onClick:this.handleClick},"Iniciar"),s.a.createElement("p",{className:"hora"},V.currentTime)))}}]),t}(o.Component))||ne),Oe=a(56),Ee=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).montarToast=a.montarToast.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){V.setCallBackToast(this.montarToast)}},{key:"montarToast",value:function(e,t){this.props.toastManager.add(e,{appearance:t,autoDismiss:!0,pauseOnHover:!0})}},{key:"render",value:function(){return s.a.createElement("div",null)}}]),t}(o.Component),je=Object(Oe.withToastManager)(Ee),Ce=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement(Oe.ToastProvider,null,s.a.createElement(je,null))}}]),t}(o.Component),Te=Object(f.a)(Ce),we=Object(f.a)(oe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={nombre:"",password:"",op:1},a.onSingUp=a.onSingUp.bind(Object(p.a)(a)),a.handleClick=a.handleClick.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;!0===ge.ReadLocal()&&this.props.history.push("/Home"),this.setState({op:0}),setTimeout(function(){e.setState({op:1})},700)}},{key:"onSingUp",value:function(e){e?this.props.history.push("/Home"):this.setState({nombre:"",password:""})}},{key:"handleClick",value:function(){""!==this.state.nombre&&""!==this.state.password?this.state.nombre.includes(" ")||this.state.password.includes(" ")?V.displayToast("Por favor no use espacios","warning"):this.state.nombre.length<4?V.displayToast("Por favor use mas de 4 caracteres en su usuario","info"):this.state.password.length<6?V.displayToast("Por favor use mas de 6 caracteres en su contrase\xf1a","info"):ge.SingUp({nombre:this.state.nombre,password:this.state.password},this.onSingUp):V.displayToast("Por favor llene todos los campos","warning")}},{key:"render",value:function(){var e=this;return s.a.createElement("section",{className:"Sing Singup two-colums",style:{opacity:this.state.op}},s.a.createElement("div",{className:"colum first"},s.a.createElement("div",{className:"img-container"},s.a.createElement("img",{src:"./images/banner.png",alt:""})),s.a.createElement("p",{className:"tag"},s.a.createElement("em",null,"#SoyTutorLeoAprendoEnse\xf1ando"))),s.a.createElement("div",{className:"colum second"},s.a.createElement(r.b,{to:"/",className:"btn-nav"},"Inicia Sesi\xf3n"),s.a.createElement("h2",{className:"titulo"},"Registro"),s.a.createElement("div",{className:"inp-cont"},s.a.createElement("input",{type:"text",placeholder:"Mi nombre es ...",value:this.state.nombre,onChange:function(t){e.setState({nombre:t.target.value+""})}}),s.a.createElement("input",{type:"password",placeholder:"Mi contrase\xf1a es ...",value:this.state.password,onChange:function(t){e.setState({password:t.target.value+""})}})),s.a.createElement("button",{className:"btn",onClick:this.handleClick},"Registrar"),s.a.createElement("p",{className:"hora"},V.currentTime)))}}]),t}(o.Component))||oe,Ne=(a(137),a(138),Object(f.a)(se=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={navigationItems:["Inicio","Horario","Excusas","Historial","Opiniones","Logout"]},a.handleClick=a.handleClick.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleClick",value:function(e){if("Logout"===e)return"false"===V.currentUser.termine&&"true"===V.currentUser.llegue?void V.displayToast("No puedes salir de tu sesion hasta terminar el horario","info"):(localStorage.setItem("isTerminado","false"),localStorage.setItem("isLlegado","false"),localStorage.setItem("isCurrentUser","false"),localStorage.removeItem("currentUser"),"monitor"===V.currentUser.rol&&W.removeActivo(V.currentUser.nombre),V.setAllCurrentUser({horario:null,rol:"",nombre:"",dia:"",inicio:"",fin:"",llegue:"false",termine:"false"}),void this.props.his.push("/"));V.setNavItemSelected(e)}},{key:"render",value:function(){var e=this;return"monitor"===V.currentUser.rol?s.a.createElement("div",{className:"Navigation"},this.state.navigationItems.map(function(t,a){return s.a.createElement("button",{key:a+" nav-item",className:V.navItemSelected===t?"nav-item sel":"nav-item",style:"Logout"===t?{marginRight:0}:{marginRight:"65px"},onClick:function(){return e.handleClick(t)}},t)})):s.a.createElement("div",{className:"Navigation"},s.a.createElement("button",{className:"Inicio"===V.navItemSelected?"nav-item sel":"nav-item",style:{marginRight:"65px"},onClick:function(){return e.handleClick("Inicio")}},"Inicio"),s.a.createElement("button",{className:"Horario"===V.navItemSelected?"nav-item sel":"nav-item",style:{marginRight:"65px"},onClick:function(){return e.handleClick("Horario")}},"Horario"),s.a.createElement("button",{className:"nav-item",onClick:function(){return e.handleClick("Logout")}},"Logout"))}}]),t}(s.a.Component))||se),ke=(a(139),Object(f.a)(ie=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"Progress two-colums"},s.a.createElement("div",{className:"first"},s.a.createElement("div",{className:"barra",style:{height:"".concat(V.heightBar,"%")}})),s.a.createElement("div",{className:"second"},s.a.createElement("h4",{className:"hora-final"},"null"!==V.currentUser.fin&&V.currentUser.fin),s.a.createElement("div",{className:"advices-cont"},s.a.createElement("h3",null,"\xa1",V.currentUser.nombre,"!"),s.a.createElement("p",null,V.progressAdvice)),s.a.createElement("h4",{className:"hora-inicial"},"null"!==V.currentUser.inicio&&V.currentUser.inicio)),s.a.createElement("div",{className:"img-container"},s.a.createElement("img",{src:"./images/aside.png",alt:""})),s.a.createElement("div",{className:"img-container logo"},s.a.createElement("img",{src:"./images/logo.svg",alt:""})),s.a.createElement("div",{className:"img-container pluma"},s.a.createElement("img",{src:"./images/pluma.svg",alt:""})))}}]),t}(o.Component))||ie),Se=a(51),Ue=a(33),De=a(29),Le=a(9),He=a(31),Ae=a(99),Ie=a(186),xe=a(62),Me=Object(Ae.a)({palette:{type:"light",primary:xe.a}}),Pe=function(e){return{todayCell:{backgroundColor:Object(He.fade)(e.palette.primary.main,.1),"&:hover":{backgroundColor:Object(He.fade)(e.palette.primary.main,.14)},"&:focus":{backgroundColor:Object(He.fade)(e.palette.primary.main,.16)}},weekendCell:{backgroundColor:Object(He.fade)(e.palette.action.disabledBackground,.04),"&:hover":{backgroundColor:Object(He.fade)(e.palette.action.disabledBackground,.04)},"&:focus":{backgroundColor:Object(He.fade)(e.palette.action.disabledBackground,.04)}},today:{backgroundColor:Object(He.fade)(e.palette.primary.main,.16)},weekend:{backgroundColor:Object(He.fade)(e.palette.action.disabledBackground,.06)}}},Re=Object(Le.a)(Pe,{name:"TimeTableCell"})(function(e){var t=e.classes,a=Object(Se.a)(e,["classes"]),r=a.startDate,n=new Date(r);return n.getDate()===(new Date).getDate()?s.a.createElement(De.i.TimeTableCell,Object.assign({},a,{className:t.todayCell})):0===n.getDay()||6===n.getDay()?s.a.createElement(De.i.TimeTableCell,Object.assign({},a,{className:t.weekendCell})):s.a.createElement(De.i.TimeTableCell,a)}),ze=Object(Le.a)(Pe,{name:"DayScaleCell"})(function(e){var t=e.classes,a=Object(Se.a)(e,["classes"]),r=a.startDate;return a.today?s.a.createElement(De.i.DayScaleCell,Object.assign({},a,{className:t.today})):0===r.getDay()||6===r.getDay()?s.a.createElement(De.i.DayScaleCell,Object.assign({},a,{className:t.weekend})):s.a.createElement(De.i.DayScaleCell,a)}),Fe=[],Be=["#88b3ff","#d6833c","#f0c85e","#a6c6e1","#008057","#365374","#c44131","#fef160","ac96c1","ab619d","00967f","544199"],Je=0,_e=function(e){var t=e.children,a=e.style,r=Object(Se.a)(e,["children","style"]);return-1===Fe.indexOf(t[1].props.data.title)&&Fe.push(t[1].props.data.title),Je=Fe.indexOf(t[1].props.data.title),Be.length===Je&&(Je=0),s.a.createElement(De.b.Appointment,Object.assign({},r,{style:Object(O.a)({},a,{backgroundColor:Be[Je],opacity:.8,borderRadius:"8px",fontSize:"14px"})}),t)},Ze=Object(f.a)(ce=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={currentDate:"2018-06-25",viewName:"Week",todays:new Date("2018-06-25")},a.currentDateChange=a.currentDateChange.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"currentDateChange",value:function(e){var t=new Date(e);t.getTime()-this.state.todays.getTime()>6048e5||t.getTime()-this.state.todays.getTime()<0||this.setState({currentDate:e})}},{key:"formatHorario",value:function(){var e=V.currentUser.horario&&Object(g.o)(V.currentUser.horario),t=[];for(var a in e)e.hasOwnProperty(a)&&function(){var r="lunes"===a?25:"martes"===a?26:"miercoles"===a?27:"jueves"===a?28:"viernes"===a?29:"sabado"===a?30:0;e[a].forEach(function(e){var a=W.transfomNumberToTime(e.inicio),n=W.transfomNumberToTime(e.fin);t.push({title:"admin"===V.currentUser.rol?e.monitor:V.currentUser.nombre,startDate:new Date(2018,5,r,parseInt(a.split(":")[0]),parseInt(a.split(":")[1])),endDate:new Date(2018,5,r,parseInt(n.split(":")[0]),parseInt(n.split(":")[1]))})})}();return t}},{key:"render",value:function(){var e=this,t=this.state,a=t.currentDate,r=t.viewName;return s.a.createElement("div",{className:"workArea Horario",style:"admin"===V.currentUser.rol?{height:"90%"}:{height:"90%",paddingTop:"5%"}},s.a.createElement(Ie.a,{theme:Me},s.a.createElement(De.f,{data:this.formatHorario()},s.a.createElement(Ue.k,{currentDate:a,onCurrentDateChange:this.currentDateChange,currentViewName:r,onCurrentViewNameChange:function(t){e.setState({viewName:t})}}),s.a.createElement(De.d,{startDayHour:7,endDayHour:18}),s.a.createElement(De.i,{startDayHour:7,endDayHour:18,cellDuration:30,timeTableCellComponent:Re,dayScaleCellComponent:ze}),"admin"===V.currentUser.rol&&s.a.createElement(De.g,null),"admin"===V.currentUser.rol&&s.a.createElement(De.h,null),"admin"===V.currentUser.rol&&"Day"===this.state.viewName&&s.a.createElement(De.c,null),s.a.createElement(De.b,{appointmentComponent:_e}),s.a.createElement(De.a,{showCloseButton:!0}))))}}]),t}(o.Component))||ce,qe=(a(88),a(100)),Ge=Object(f.a)(le=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={razon:"",fecha:"",inicio:"",fin:"",file:null,isDropZoneActive:!1,plaso:new Date},a.handleClick=a.handleClick.bind(Object(p.a)(a)),a.addExcuse=a.addExcuse.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){W.getExcuces(V.currentUser.nombre)}},{key:"handleClick",value:function(){var e=this;if(""!==this.state.razon&&""!==this.state.fecha&&""!==this.state.inicio&&""!==this.state.fin){var t=new Date;t.setHours(this.state.inicio.split(":")[0]),t.setMonth(parseInt(this.state.fecha.split("-")[1])-1),t.setDate(this.state.fecha.split("-")[2]),t.setMinutes(this.state.inicio.split(":")[1]),this.setState({plaso:t},function(){var a=Date.now();Math.abs(t.getTime()-a)<=2592e5?V.displayToast("La fecha es muy proxima, debe tener tres (3) d\xedas minimo de anticipaci\xf3n","error"):t.getTime()-a<0?V.displayToast("La fecha es anterior al d\xeda de hoy","error"):e.state.file?K.uploadImg(a,e.state.file,e.addExcuse):e.addExcuse(a,"")})}else V.displayToast("Porfavor llene todos los campos","warning")}},{key:"addExcuse",value:function(e,t){var a=V.dias[this.state.plaso.getDay()-1]+", "+this.state.plaso.getDate()+" de "+V.meses[this.state.plaso.getMonth()]+" "+this.state.plaso.getFullYear();W.addNewExcuse(e,{razon:this.state.razon,fecha:a,inicio:W.transfomTimeToNumber(this.state.inicio),fin:W.transfomTimeToNumber(this.state.fin),url:t}),W.setRegistro(W.transfomTimeToNumber(V.fecha.hora+":"+V.fecha.minutos),this.state.plaso.getTime(),"excusa"),this.setState({razon:"",fecha:"",inicio:"",fin:"",file:null,isDropZoneActive:!1})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"workArea Excusas"},s.a.createElement("input",{type:"text",placeholder:"Raz\xf3n de la falta",id:"inp0",value:this.state.razon,onChange:function(t){e.setState({razon:t.target.value+""})}}),s.a.createElement("div",{className:"inps-cont"},s.a.createElement("div",{className:"label-cont",id:"esp"},s.a.createElement("h3",{className:"label"},"Fecha"),s.a.createElement("input",{type:"date",value:this.state.fecha,onChange:function(t){e.setState({fecha:t.target.value+""})}})),s.a.createElement("div",{className:"label-cont"},s.a.createElement("h3",{className:"label"},"Desde"),s.a.createElement("input",{type:"time",value:this.state.inicio,onChange:function(t){e.setState({inicio:t.target.value+""})}})),s.a.createElement("div",{className:"label-cont"},s.a.createElement("h3",{className:"label"},"Hasta"),s.a.createElement("input",{type:"time",value:this.state.fin,onChange:function(t){e.setState({fin:t.target.value+""})}}))),s.a.createElement("div",{className:"soporte-cont",style:!1===this.state.isDropZoneActive?{marginBottom:"15%"}:{marginBottom:"5%"}},!1===this.state.isDropZoneActive?s.a.createElement("h3",{onClick:function(){e.setState({isDropZoneActive:!0})}},"Subir soporte fotogr\xe1fico"):s.a.createElement(qe.a,{onDrop:function(t){var a=new FileReader;a.onload=function(t){e.setState({file:t.target.result})},a.readAsDataURL(t[0])}},function(t){var a=t.getRootProps,r=t.getInputProps;return s.a.createElement("section",{className:"dropZone"},s.a.createElement("div",a(),s.a.createElement("input",r()),null===e.state.file&&s.a.createElement("p",null,"Drag and drop zone")),e.state.file&&s.a.createElement("div",{className:"img-container"},s.a.createElement("img",{alt:"temp",src:e.state.file})))}),s.a.createElement("div",{className:"btn",onClick:this.handleClick},"Send")),s.a.createElement("h2",{className:"titulo"},"Anteriores"),s.a.createElement("div",{className:"anteriores"},s.a.createElement("div",{className:"exc-row"},s.a.createElement("p",{className:"id tit"},"#"),s.a.createElement("p",{className:"razon tit"},"Rraz\xf3n"),s.a.createElement("p",{className:"fecha tit"},"Fecha"),s.a.createElement("p",{className:"inicio tit"},"Inicio"),s.a.createElement("p",{className:"fin tit"},"Fin")),V.excusas.reverse().map(function(e,t){return s.a.createElement("div",{key:t+"excuces",className:"exc-row"},s.a.createElement("p",{className:"id item"},t),s.a.createElement("p",{className:"razon item"},e.razon),s.a.createElement("p",{className:"fecha item"},e.fecha.split(",")[1].trim()),s.a.createElement("p",{className:"inicio item"},W.transfomNumberToTime(e.inicio)),s.a.createElement("p",{className:"fin item"},W.transfomNumberToTime(e.fin)))})))}}]),t}(o.Component))||le,We=(a(142),Object(Ae.a)({palette:{type:"light",primary:xe.a}})),Ve=function(e){var t=e.children,a=e.style,r=Object(Se.a)(e,["children","style"]);return s.a.createElement(De.b.Appointment,Object.assign({},r,{style:Object(O.a)({},a,{backgroundColor:"excusa"===t[1].props.data.title?"#c6c6c6":"adicional"===t[1].props.data.title?"#d6833c":"#88b3ff",borderRadius:"8px",color:"#fff"})}),t,new Date(t[1].props.data.startDate).getHours()+":"+new Date(t[1].props.data.startDate).getMinutes(),"llegada"!==t[1].props.data.title&&" - "+new Date(t[1].props.data.endDate).getHours()+":"+new Date(t[1].props.data.endDate).getMinutes())},Ye=Object(f.a)(ue=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={dia:Date.now()},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"formatRegistro",value:function(){var e=V.registros&&V.registros,t=[];for(var a in e)if(e.hasOwnProperty(a)){var r=e[a];if(null===r.fecha||void 0===r.fecha)break;var n=W.transfomNumberToTime(r.hora),o=W.transfomNumberToTime(r.hora+30),s=new Date(r.fecha);s.setHours(parseInt(n.split(":")[0])),s.setMinutes(parseInt(n.split(":")[1]));var i=new Date(r.fecha);i.setHours(parseInt(o.split(":")[0])),i.setMinutes(parseInt(o.split(":")[1])),t.push({title:r.tipo,startDate:s,endDate:i})}return t}},{key:"componentDidMount",value:function(){"monitor"===V.currentUser.rol?(W.updateHoras(V.currentUser.nombre),W.updateRegistro(V.currentUser.nombre)):"monitor"===V.currentUser.rol&&V.monitorSelected&&(W.updateHoras(V.monitorSelected),W.updateRegistro(V.monitorSelected))}},{key:"render",value:function(){return s.a.createElement("div",{className:"workArea Historial"},s.a.createElement("div",{className:"horas"},s.a.createElement("div",{className:"hora-cont"},s.a.createElement("h2",null,0===V.horasTotales?"0":V.horasTotales%Math.floor(V.horasTotales)===0?V.horasTotales:V.horasTotales.toFixed(1)),s.a.createElement("p",null,"Horas",s.a.createElement("br",null),"Totales")),s.a.createElement("div",{className:"hora-cont"},s.a.createElement("h2",null,0===V.horasLogradas?"0":V.horasLogradas%Math.floor(V.horasLogradas)===0?V.horasLogradas:V.horasLogradas.toFixed(1)),s.a.createElement("p",null,"Horas",s.a.createElement("br",null),"Logradas")),s.a.createElement("div",{className:"hora-cont"},s.a.createElement("h2",null,0===V.horasAdiconales?"0":V.horasAdiconales%Math.floor(V.horasAdiconales)===0?V.horasAdiconales:V.horasAdiconales.toFixed(1)),s.a.createElement("p",null,"Horas",s.a.createElement("br",null),"Adicionales")),s.a.createElement("div",{className:"hora-cont"},s.a.createElement("h2",{id:"perdidas"},0===V.horasPerdidas?"0":V.horasPerdidas%Math.floor(V.horasPerdidas)===0?V.horasPerdidas:V.horasPerdidas.toFixed(1)),s.a.createElement("p",null,"Horas",s.a.createElement("br",null),"Pendientes"))),s.a.createElement("div",{className:"scheduler"},s.a.createElement(Ie.a,{theme:We},s.a.createElement(De.f,{data:this.formatRegistro()},s.a.createElement(Ue.k,{defaultCurrentDate:this.state.dia}),s.a.createElement(De.e,null),s.a.createElement(De.g,null),s.a.createElement(De.c,null),s.a.createElement(De.b,{appointmentComponent:Ve})))))}}]),t}(o.Component))||ue,Xe=Object(f.a)(me=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={opinion:""},a.handleClick=a.handleClick.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){W.getOpiniones(V.currentUser.nombre)}},{key:"handleClick",value:function(){if(""!==this.state.opinion){var e=new Date,t=W.transfomTimeToNumber(V.fecha.hora+":"+V.fecha.minutos);W.addNewOpinion({opinion:this.state.opinion,fecha:e.getTime()}),W.setRegistro(t,e.getTime(),"opinion"),this.setState({opinion:""})}else V.displayToast("Porfavor llene todos los campos","warning")}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"workArea Excusas Opiniones"},s.a.createElement("div",{className:"cont-inp"},s.a.createElement("input",{type:"text",placeholder:"Cuentame tu experiencia",id:"inp0",value:this.state.opinion,onChange:function(t){e.setState({opinion:t.target.value+""})}}),s.a.createElement("div",{className:"btn",onClick:this.handleClick},"Send")),s.a.createElement("h2",{className:"titulo"},"Anteriores"),s.a.createElement("div",{className:"anteriores"},s.a.createElement("div",{className:"exc-row"},s.a.createElement("p",{className:"id tit"},"#"),s.a.createElement("p",{className:"razon tit"},"Opini\xf3n"),s.a.createElement("p",{className:"fecha tit"},"Fecha")),V.opiniones.reverse().map(function(e,t){var a=new Date(e.fecha),r=a.getDate()+" de "+V.meses[a.getMonth()]+" "+a.getFullYear();return s.a.createElement("div",{key:t+"excuces",className:"exc-row"},s.a.createElement("p",{className:"id item"},t),s.a.createElement("p",{className:"razon item"},e.opinion),s.a.createElement("p",{className:"fecha item"},r))})))}}]),t}(o.Component))||me,Ke=Object(f.a)(de=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={isDoneLlegue:!1,isDoneTermine:!1,horasPendientes:0,op:1,isSalidaAutoHabilitada:!0},a.handleClickLlegue=a.handleClickLlegue.bind(Object(p.a)(a)),a.handleClickTermine=a.handleClickTermine.bind(Object(p.a)(a)),a.cerrarSesionAutomatico=a.cerrarSesionAutomatico.bind(Object(p.a)(a)),W.setActivo(V.currentUser.nombre),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;W.getMyAditionals(),this.setState({op:0}),setTimeout(function(){e.setState({op:1})},700);var t=localStorage.getItem("isLlegado"),a=null!==t?JSON.parse(t):null;null!==a&&V.setCurrentUser("llegue",a+""),this.setState({isDoneLlegue:a});var r=localStorage.getItem("isTerminado"),n=null!==r?JSON.parse(r):null;null!==n&&V.setCurrentUser("termine",n+""),this.setState({isDoneTermine:n}),setTimeout(function(){e.cerrarSesionAutomatico()},1e3)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.state.intervalId)}},{key:"cerrarSesionAutomatico",value:function(){var e=this;if("null"===V.currentUser.inicio);else{var t=setTimeout(function(){"true"===V.currentUser.llegue&&("monitor"===V.currentUser.rol&&W.removeActivo(V.currentUser.nombre),W.setHorasLogradas(Math.abs(V.diferenceCurrentAndInitial/60)-e.state.horasPendientes),V.displayToast("Has completado"+(Math.abs(V.diferenceCurrentAndInitial/60)-e.state.horasPendientes)+" horas","info"),W.setRegistro(W.transfomTimeToNumber(V.fecha.hora+":"+V.fecha.minutos),Date.now(),"salida"),setTimeout(function(){V.setAllCurrentUser({horario:null,rol:"",nombre:"",dia:"",inicio:"",fin:"",llegue:"false",termine:"false"}),localStorage.setItem("isTerminado","false"),localStorage.setItem("isLlegado","false"),localStorage.setItem("isCurrentUser","false"),localStorage.removeItem("currentUser"),V.setCurrentUser("termine","true"),e.props.his.push("/")},1e3))},6e4*V.diferenceCurrentAndFinal);console.log(V.diferenceCurrentAndFinal),this.setState({intervalId:t})}}},{key:"handleClickLlegue",value:function(){if(!0!==this.state.isDoneLlegue&&""!==V.currentUser.nombre)if(V.diferenceCurrentAndInitial>7){var e=W.transfomNumberToTime(V.diferenceCurrentAndInitial-7);V.displayToast("faltan: "+e.split(":")[0]+" Horas y "+parseInt(e.split(":")[1])+" Minutos, para poder marcar tu llegada","warning")}else if("null"!==V.currentUser.inicio){if(this.setState({isDoneLlegue:!0}),V.setCurrentUser("llegue","true"),localStorage.setItem("isLlegado","true"),V.diferenceCurrentAndInitial<-7){var t=Math.abs(V.diferenceCurrentAndInitial/60);W.setHorasPerdidas(t),this.setState({horasPendientes:t}),V.displayToast("Llegas tarde, se te agregan "+t.toFixed(2)+" horas pendientes","info")}W.setRegistro(W.transfomTimeToNumber(V.fecha.hora+":"+V.fecha.minutos),Date.now(),"llegada")}else V.displayToast("No est\xe1s en tiempo de monitoria, lo lamentamos","warning")}},{key:"handleClickTermine",value:function(){if(!0!==this.state.isDoneTermine&&""!==V.currentUser.nombre)if("null"!==V.currentUser.inicio)if(!1!==this.state.isDoneLlegue)if(V.diferenceCurrentAndFinal>7){var e=W.transfomNumberToTime(V.diferenceCurrentAndFinal-7);V.displayToast("faltan: "+e.split(":")[0]+" Horas y "+parseInt(e.split(":")[1])+" Minutos, para poder marcar tu Salida","warning")}else this.setState({isDoneTermine:!0}),V.setCurrentUser("termine","true"),localStorage.setItem("isTerminado","true"),W.setHorasLogradas(Math.abs(V.diferenceCurrentAndInitial/60)-this.state.horasPendientes),V.displayToast("Has completado"+(Math.abs(V.diferenceCurrentAndInitial/60)-this.state.horasPendientes)+" horas","info"),W.setRegistro(W.transfomTimeToNumber(V.fecha.hora+":"+V.fecha.minutos),Date.now(),"salida");else V.displayToast("Primero debes marcar tu llegada","warning");else V.displayToast("No est\xe1s en tiempo de monitoria, lo lamentamos","warning")}},{key:"render",value:function(){return s.a.createElement("section",{className:"Home two-colums",style:{opacity:this.state.op}},s.a.createElement("div",{className:"first"},s.a.createElement(ke,null)),s.a.createElement("div",{className:"second"},s.a.createElement(Ne,{his:this.props.his}),"Inicio"===V.navItemSelected?s.a.createElement("div",{className:"workArea uno"},s.a.createElement("p",{className:"time",style:this.state.isDoneLlegue?{color:"#c6c6c6"}:V.diferenceCurrentAndInitial>=7?{color:"#88b3ff"}:{color:"#d6833c"}},V.currentTime.split(":")[0]+" : "+V.currentTime.split(":")[1]),s.a.createElement("p",{className:"date",style:this.state.isDoneLlegue?{color:"#c6c6c6"}:V.diferenceCurrentAndInitial>=7?{color:"#88b3ff"}:{color:"#d6833c"}},V.currentDate),s.a.createElement("div",{className:"btn-cont"},s.a.createElement("div",{className:"btn",style:this.state.isDoneLlegue||V.diferenceCurrentAndInitial>7||"null"===V.currentUser.inicio?{opacity:.5}:{opacity:1},onClick:this.handleClickLlegue},"Llegu\xe9"),s.a.createElement("div",{className:"btn",style:this.state.isDoneTermine||!1===this.state.isDoneLlegue||"null"===V.currentUser.fin?{opacity:.5}:{opacity:1},onClick:this.handleClickTermine},"Termin\xe9"))):"Horario"===V.navItemSelected?s.a.createElement(Ze,null):"Excusas"===V.navItemSelected?s.a.createElement(Ge,null):"Historial"===V.navItemSelected?s.a.createElement(Ye,null):"Opiniones"===V.navItemSelected&&s.a.createElement(Xe,null)))}}]),t}(o.Component))||de,$e=(a(143),Object(f.a)(pe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={isAllMonitors:!1,op:1},a.handleSelected=a.handleSelected.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleSelected",value:function(e){e===V.monitorSelected?V.setMonitorSelected(null):V.setMonitorSelected(e)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"Monitor"},s.a.createElement("div",{className:"saludo-cont"},s.a.createElement("h3",null,"\xa1",V.currentUser.nombre,"!"),s.a.createElement("p",null,"Bienvenida.")),s.a.createElement("div",{className:"tipo-lista"},s.a.createElement("p",null,this.state.isAllMonitors?"Todos los monitores":"Monitores de turno."),s.a.createElement("span",{className:"btn-cambio",onClick:function(){e.setState({op:0}),setTimeout(function(){e.setState(function(e){return{isAllMonitors:!e.isAllMonitors,mar:500,op:1}})},700)}},this.state.isAllMonitors?"<":">")),s.a.createElement("div",{className:"list-cont",style:{opacity:this.state.op}},this.state.isAllMonitors?V.monitores.map(function(t,a){return s.a.createElement("div",{key:a+"monitor",className:V.monitorSelected===t.nombre?"monitor selected":"monitor",onClick:function(){return e.handleSelected(t.nombre)}},s.a.createElement("p",null,t.nombre))}):V.currentMonitors.map(function(t,a){if(void 0!==t)return s.a.createElement("div",{key:a+"monitor",onClick:function(){return e.handleSelected(t)},style:V.monitoresActivos.includes(t.toLocaleLowerCase())?{opacity:1}:{opacity:.5},className:V.monitorSelected===t?"monitor selected":"monitor"},s.a.createElement("p",null,t),s.a.createElement("span",{style:V.monitoresActivos.includes(t.toLocaleLowerCase())?{backgroundColor:"#d6833c"}:{backgroundColor:"#c6c6c6"}}))})),s.a.createElement("div",{className:"img-container"},s.a.createElement("img",{src:"./images/aside.png",alt:""})))}}]),t}(s.a.Component))||pe),Qe=Object(f.a)(he=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={pos:0,showImg:!1,op:1,opImg:0},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"handleClick",value:function(e){var t=this,a=0;(a="back"===e?this.state.pos-1:this.state.pos+1)<V.excusas.length&&a>=0&&(this.setState({op:0}),setTimeout(function(){t.setState({pos:a,op:1})},700))}},{key:"render",value:function(){var e=this;return V.excusas.length>=1&&null!==V.excusas[this.state.pos]&&void 0!==V.excusas[this.state.pos]?s.a.createElement("div",{className:"Slider",style:V.excusas.length>1?{justifyContent:"space-between"}:{justifyContent:"center"}},V.excusas.length>1&&s.a.createElement("button",{onClick:function(){return e.handleClick("back")}},"<"),s.a.createElement("div",{className:"excusa",style:{opacity:this.state.op}},s.a.createElement("p",{id:"fecha",onClick:function(){V.excusas[e.state.pos].url&&e.setState({showImg:!0,opImg:0}),setTimeout(function(){e.setState({opImg:1})},700)},style:V.excusas[this.state.pos].url?{textDecoration:"underline",cursor:"pointer"}:{textDecoration:"none"}},V.excusas[this.state.pos].fecha+", "+W.transfomNumberToTime(V.excusas[this.state.pos].inicio)+" - "+W.transfomNumberToTime(V.excusas[this.state.pos].fin)),s.a.createElement("p",null,'"',V.excusas[this.state.pos].razon,'".'),s.a.createElement("p",null,"(",V.excusas[this.state.pos].monitor,")"),this.state.showImg&&s.a.createElement("div",{className:"img-container",style:{opacity:this.state.opImg},onClick:function(){e.setState({opImg:0}),setTimeout(function(){e.setState({showImg:!1})},700)}},s.a.createElement("img",{src:V.excusas[this.state.pos].url,alt:""}))),V.excusas.length>1&&s.a.createElement("button",{onClick:function(){return e.handleClick("next")}},">")):s.a.createElement("div",{className:"Slider"})}}]),t}(s.a.Component))||he,et=Object(f.a)(fe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={selected:null,isNewHorario:!1,horario:!1,op:1,op2:0,wid:70,fecha:"",inicio:"",fin:""},W.getActivos(),setTimeout(function(){W.getAllExcuces()},4e3),a.handleClick=a.handleClick.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({op:0}),setTimeout(function(){e.setState({op:1})},700),"admin"===V.currentUser.rol&&V.setMonitorSelected(null)}},{key:"handleClick",value:function(){var e=this;if(this.state.isNewHorario){if(""===this.state.razon||""===this.state.fecha||""===this.state.inicio||""===this.state.fin)return V.displayToast("Porfavor llene todos los campos","error"),this.setState({isNewHorario:!1,op2:0}),void setTimeout(function(){e.setState({op2:1})},500);var t=new Date;t.setHours(this.state.inicio.split(":")[0]),t.setMonth(parseInt(this.state.fecha.split("-")[1])-1),t.setDate(this.state.fecha.split("-")[2]),t.setMinutes(this.state.inicio.split(":")[1]);var a=Date.now();if(t.getTime()-a<0)return void V.displayToast("La fecha es anterior al d\xeda de hoy","error");V.monitorSelected&&W.setHoraAdicional(V.monitorSelected,W.transfomTimeToNumber(this.state.inicio),W.transfomTimeToNumber(this.state.fin),t.getTime()+""),V.monitorSelected&&W.setRegistroEsp(V.monitorSelected,W.transfomTimeToNumber(V.fecha.hora+":"+V.fecha.minutos),t.getTime(),"adicional"),this.setState({fecha:"",inicio:"",fin:"",isNewHorario:!1})}else this.setState({isNewHorario:!0,op2:0}),setTimeout(function(){e.setState({op2:1})},500)}},{key:"render",value:function(){var e=this;return s.a.createElement("section",{className:"Home two-colums",style:{opacity:this.state.op}},s.a.createElement("div",{className:"first"},s.a.createElement($e,null)),s.a.createElement("div",{className:"second"},s.a.createElement(Ne,{his:this.props.his}),null!==V.monitorSelected?this.state.horario?s.a.createElement(Ze,null):s.a.createElement(Ye,null):"Inicio"===V.navItemSelected?s.a.createElement("div",{className:"workArea uno"},s.a.createElement("p",{className:"time",style:{color:"#88b3ff"}},V.currentTime.split(":")[0]+" : "+V.currentTime.split(":")[1]),s.a.createElement("p",{className:"date",style:{color:"#88b3ff"}},V.currentDate),s.a.createElement(Qe,null)):"Horario"===V.navItemSelected&&s.a.createElement(Ze,null),null!==V.monitorSelected&&s.a.createElement("div",{className:"adicHour"},this.state.isNewHorario?s.a.createElement("div",{className:"inps-cont",style:{width:this.state.wid+"%",opacity:this.state.op2}},s.a.createElement("div",{className:"label-cont",id:"esp"},s.a.createElement("h3",{className:"label"},"Fecha"),s.a.createElement("input",{type:"date",value:this.state.fecha,onChange:function(t){e.setState({fecha:t.target.value+""})}})),s.a.createElement("div",{className:"label-cont"},s.a.createElement("h3",{className:"label"},"Desde"),s.a.createElement("input",{type:"time",value:this.state.inicio,onChange:function(t){e.setState({inicio:t.target.value+""})}})),s.a.createElement("div",{className:"label-cont"},s.a.createElement("h3",{className:"label"},"Hasta"),s.a.createElement("input",{type:"time",value:this.state.fin,onChange:function(t){e.setState({fin:t.target.value+""})}}))):s.a.createElement("div",{className:"btn",onClick:function(){e.props.his.push("/editarHorario")}},"Editar Horario"),s.a.createElement("div",{className:"btn",onClick:this.handleClick},this.state.isNewHorario?"Listo":"A\xf1adir Horas"),s.a.createElement("div",{className:"btn change",onClick:function(){e.setState(function(e){return{horario:!e.horario}})}},">"))))}}]),t}(o.Component))||fe,tt=Object(f.a)(be=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){!1===ge.ReadLocal()&&e.props.history.push("/"),"admin"===V.currentUser.rol&&(W.getHorarioGen(),W.getMonitores())},3e3)}},{key:"render",value:function(){return"monitor"===V.currentUser.rol?s.a.createElement(Ke,{his:this.props.history}):"admin"===V.currentUser.rol?s.a.createElement(et,{his:this.props.history}):s.a.createElement("div",{className:"loading"})}}]),t}(o.Component))||be,at=(a(144),Object(f.a)(ve=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={horario:[[{inicio:"",fin:""}],[{inicio:"",fin:""}],[{inicio:"",fin:""}],[{inicio:"",fin:""}],[{inicio:"",fin:""}],[{inicio:"",fin:""}]],op:1,horasTotales:0},a.wrapInformationToHorario=a.wrapInformationToHorario.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;null===V.monitorSelected&&this.props.history.push("/Home"),this.setState({op:0}),setTimeout(function(){e.setState({op:1})},700)}},{key:"wrapInformationToHorario",value:function(){var e=this;setTimeout(function(){for(var t={},a=["lunes","martes","miercoles","jueves","viernes","Sabado","Domingo"],r=0;r<e.state.horario.length;r++)for(var n=a[r].toLocaleLowerCase(),o=0;o<e.state.horario[r].length;o++){var s=e.state.horario[r][o];if(""===s.inicio||""===s.fin)break;t[n]=e.state.horario[r]}V.setHorasTotales(e.state.horasTotales),V.monitorSelected&&W.setSetHorasTotales(e.state.horasTotales,V.monitorSelected),V.monitorSelected&&W.setHorario(V.monitorSelected,t),V.setMonitorSelected(null),V.displayToast("Horario actualizado","success"),e.props.history.push("/Home")},1500)}},{key:"render",value:function(){var e=this;return s.a.createElement("section",{className:"EditSchedule",style:{opacity:this.state.op}},s.a.createElement("div",{className:"nav"},s.a.createElement(r.b,{to:"/Home",className:"nav__btn"},"Regresar"),s.a.createElement("h2",{className:"titulo"},"Editar horario de ",V.monitorSelected),s.a.createElement("p",{className:"nav__hora"},V.currentTime)),s.a.createElement("p",{className:"alert"},"Recuerda que reemplazar\xe1s completamente el horario de este monitor, Verifica que la informaci\xf2n sea correcta"),this.state.horario.map(function(t,a){return s.a.createElement("div",{className:"dia",key:a},s.a.createElement("h3",{className:"dia__titulo"},V.dias[a]),t.map(function(t,r){return s.a.createElement("div",{className:"inp-cont",key:a+"-"+r},s.a.createElement("h3",null,a+1+"."+(r+1)),s.a.createElement("div",{className:"label-cont"},s.a.createElement("h3",{className:"label"},"Comienzo de Jornada"),s.a.createElement("input",{type:"time",onChange:function(t){var n=t.target.value+"",o=60*parseInt(n.split(":")[0])+parseInt(n.split(":")[1]),s=Object(y.a)(e.state.horario);s[a][r].inicio=o,e.setState({horario:s})}})),s.a.createElement("div",{className:"label-cont"},s.a.createElement("h3",{className:"label"},"Fin de Jornada"),s.a.createElement("input",{type:"time",onChange:function(t){var n=Object(y.a)(e.state.horario),o=t.target.value+"",s=60*parseInt(o.split(":")[0])+parseInt(o.split(":")[1]);n[a][r].fin=s,e.setState({horario:n})}})))}),s.a.createElement("p",{className:"btn-mas",onClick:function(){var t=Object(y.a)(e.state.horario);t[a].push({inicio:"",fin:""}),e.setState({horario:t})}},"Agregar m\xe1s campos"))}),s.a.createElement("div",{className:"label-cont horasTotales"},s.a.createElement("h3",{className:"label"},"Horas Totales"),s.a.createElement("input",{type:"number",value:this.state.horasTotales,onChange:function(t){e.setState({horasTotales:parseInt(t.target.value+"")})}})),s.a.createElement("button",{className:"btn",onClick:this.wrapInformationToHorario},"Guardar Cambios"))}}]),t}(o.Component))||ve),rt=s.a.createElement(r.a,null,s.a.createElement(Te,null),s.a.createElement(n.c,null,s.a.createElement(n.a,{exact:!0,path:"/",component:ye}),s.a.createElement(n.a,{exact:!0,path:"/SingUp",component:we}),s.a.createElement(n.a,{exact:!0,path:"/Home",component:tt}),s.a.createElement(n.a,{exact:!0,path:"/editarHorario",component:at})));c.a.render(rt,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},79:function(e,t,a){},88:function(e,t,a){}},[[112,1,2]]]);
//# sourceMappingURL=main.331458a9.chunk.js.map